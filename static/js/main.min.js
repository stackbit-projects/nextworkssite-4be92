!function (e) { var t = {}; function i(n) { if (t[n]) return t[n].exports; var s = t[n] = { exports: {}, id: n, loaded: !1 }; return e[n].call(s.exports, s, s.exports, i), s.loaded = !0, s.exports } i.m = e, i.c = t, i.p = "", i(0) }([function (e, t, i) { "use strict"; i(1), i(2); var n, s = i(3), r = (n = s) && n.__esModule ? n : { default: n }; document.addEventListener("DOMContentLoaded", function () { [].slice.call(document.querySelectorAll("select")).forEach(function (e) { e.classList.add("cs-select"), new SelectFx(e) }); JSON.parse(document.body.getAttribute("data-share")), jQuery(".atail-sharing") }); new r.default }, function (e, t, i) { var n, s; !function (r) { "use strict"; function o(e) { return new RegExp("(^|\\s+)" + e + "(\\s+|$)") } var a, l, c; function u(e, t) { (a(e, t) ? c : l)(e, t) } "classList" in document.documentElement ? (a = function (e, t) { return e.classList.contains(t) }, l = function (e, t) { e.classList.add(t) }, c = function (e, t) { e.classList.remove(t) }) : (a = function (e, t) { return o(t).test(e.className) }, l = function (e, t) { a(e, t) || (e.className = e.className + " " + t) }, c = function (e, t) { e.className = e.className.replace(o(t), " ") }); var d = { hasClass: a, addClass: l, removeClass: c, toggleClass: u, has: a, add: l, remove: c, toggle: u }; function h(e, t) { for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]); return e } function f(e, t) { this.el = e, this.options = h({}, this.options), h(this.options, t), this._init() } void 0 === (s = "function" == typeof (n = d) ? n.call(t, i, t, e) : n) || (e.exports = s), f.prototype.options = { newTab: !0, stickyPlaceholder: !0, onChange: function (e) { return !1 } }, f.prototype._init = function () { var e = this.el.querySelector("option[selected]"); this.hasDefaultPlaceholder = e && e.disabled, this.selectedOpt = e || this.el.querySelector("option"), this._createSelectEl(), this.selOpts = [].slice.call(this.selEl.querySelectorAll("li[data-option]")), this.selOptsCount = this.selOpts.length, this.current = this.selOpts.indexOf(this.selEl.querySelector("li.cs-selected")) || -1, this.selPlaceholder = this.selEl.querySelector("span.cs-placeholder"), this._initEvents() }, f.prototype._createSelectEl = function () { var e = "", t = function (e) { var t = "", i = "", n = ""; return !e.selectedOpt || this.foundSelected || this.hasDefaultPlaceholder || (i += "cs-selected ", this.foundSelected = !0), e.getAttribute("data-class") && (i += e.getAttribute("data-class")), e.getAttribute("data-link") && (n = "data-link=" + e.getAttribute("data-link")), "" !== i && (t = 'class="' + i + '" '), "<li " + t + n + ' data-option data-value="' + e.value + '"><span>' + e.textContent + "</span></li>" };[].slice.call(this.el.children).forEach(function (i) { if (!i.disabled) { var n = i.tagName.toLowerCase(); "option" === n ? e += t(i) : "optgroup" === n && (e += '<li class="cs-optgroup"><span>' + i.label + "</span><ul>", [].slice.call(i.children).forEach(function (i) { e += t(i) }), e += "</ul></li>") } }); var i = '<div class="cs-options"><ul>' + e + "</ul></div>"; this.selEl = document.createElement("div"), this.selEl.className = this.el.className, this.selEl.tabIndex = this.el.tabIndex, this.selEl.innerHTML = '<span class="cs-placeholder">' + this.selectedOpt.textContent + "</span>" + i, this.el.parentNode.appendChild(this.selEl), this.selEl.appendChild(this.el) }, f.prototype._initEvents = function () { var e = this; this.selPlaceholder.addEventListener("click", function () { e._toggleSelect() }), this.selOpts.forEach(function (t, i) { t.addEventListener("click", function () { e.current = i, e._changeOption(), e._toggleSelect() }) }), document.addEventListener("click", function (t) { var i = t.target; e._isOpen() && i !== e.selEl && !function (e, t) { if (!e) return !1; for (var i = e.target || e.srcElement || e || !1; i && i != t;)i = i.parentNode || !1; return !1 !== i }(i, e.selEl) && e._toggleSelect() }), this.selEl.addEventListener("keydown", function (t) { switch (t.keyCode || t.which) { case 38: t.preventDefault(), e._navigateOpts("prev"); break; case 40: t.preventDefault(), e._navigateOpts("next"); break; case 32: t.preventDefault(), e._isOpen() && void 0 !== e.preSelCurrent && -1 !== e.preSelCurrent && e._changeOption(), e._toggleSelect(); break; case 13: t.preventDefault(), e._isOpen() && void 0 !== e.preSelCurrent && -1 !== e.preSelCurrent && (e._changeOption(), e._toggleSelect()); break; case 27: t.preventDefault(), e._isOpen() && e._toggleSelect() } }) }, f.prototype._navigateOpts = function (e) { this._isOpen() || this._toggleSelect(); var t = void 0 !== this.preSelCurrent && -1 !== this.preSelCurrent ? this.preSelCurrent : this.current; ("prev" === e && t > 0 || "next" === e && t < this.selOptsCount - 1) && (this.preSelCurrent = "next" === e ? t + 1 : t - 1, this._removeFocus(), d.add(this.selOpts[this.preSelCurrent], "cs-focus")) }, f.prototype._toggleSelect = function () { this._removeFocus(), this._isOpen() ? (-1 !== this.current && (this.selPlaceholder.textContent = this.selOpts[this.current].textContent), d.remove(this.selEl, "cs-active")) : (this.hasDefaultPlaceholder && this.options.stickyPlaceholder && (this.selPlaceholder.textContent = this.selectedOpt.textContent), d.add(this.selEl, "cs-active")) }, f.prototype._changeOption = function () { void 0 !== this.preSelCurrent && -1 !== this.preSelCurrent && (this.current = this.preSelCurrent, this.preSelCurrent = -1); var e = this.selOpts[this.current]; this.selPlaceholder.textContent = e.textContent, this.el.value = e.getAttribute("data-value"); var t = this.selEl.querySelector("li.cs-selected"); t && d.remove(t, "cs-selected"), d.add(e, "cs-selected"), e.getAttribute("data-link") && (this.options.newTab ? r.open(e.getAttribute("data-link"), "_blank") : r.location = e.getAttribute("data-link")), this.options.onChange(this.el.value) }, f.prototype._isOpen = function (e) { return d.has(this.selEl, "cs-active") }, f.prototype._removeFocus = function (e) { var t = this.selEl.querySelector("li.cs-focus"); t && d.remove(t, "cs-focus") }, r.SelectFx = f }(window) }, function (e, t) {
    /*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js*/
    "document" in window.self && ("classList" in document.createElement("_") && (!document.createElementNS || "classList" in document.createElementNS("http://www.w3.org/2000/svg", "g")) ? function () { "use strict"; var e = document.createElement("_"); if (e.classList.add("c1", "c2"), !e.classList.contains("c2")) { var t = function (e) { var t = DOMTokenList.prototype[e]; DOMTokenList.prototype[e] = function (e) { var i, n = arguments.length; for (i = 0; i < n; i++)e = arguments[i], t.call(this, e) } }; t("add"), t("remove") } if (e.classList.toggle("c3", !1), e.classList.contains("c3")) { var i = DOMTokenList.prototype.toggle; DOMTokenList.prototype.toggle = function (e, t) { return 1 in arguments && !this.contains(e) == !t ? t : i.call(this, e) } } e = null }() : function (e) { "use strict"; if ("Element" in e) { var t = e.Element.prototype, i = Object, n = String.prototype.trim || function () { return this.replace(/^\s+|\s+$/g, "") }, s = Array.prototype.indexOf || function (e) { for (var t = 0, i = this.length; t < i; t++)if (t in this && this[t] === e) return t; return -1 }, r = function (e, t) { this.name = e, this.code = DOMException[e], this.message = t }, o = function (e, t) { if ("" === t) throw new r("SYNTAX_ERR", "An invalid or illegal string was specified"); if (/\s/.test(t)) throw new r("INVALID_CHARACTER_ERR", "String contains an invalid character"); return s.call(e, t) }, a = function (e) { for (var t = n.call(e.getAttribute("class") || ""), i = t ? t.split(/\s+/) : [], s = 0, r = i.length; s < r; s++)this.push(i[s]); this._updateClassName = function () { e.setAttribute("class", this.toString()) } }, l = a.prototype = [], c = function () { return new a(this) }; if (r.prototype = Error.prototype, l.item = function (e) { return this[e] || null }, l.contains = function (e) { return -1 !== o(this, e += "") }, l.add = function () { var e, t = arguments, i = 0, n = t.length, s = !1; do { e = t[i] + "", -1 === o(this, e) && (this.push(e), s = !0) } while (++i < n); s && this._updateClassName() }, l.remove = function () { var e, t, i = arguments, n = 0, s = i.length, r = !1; do { for (e = i[n] + "", t = o(this, e); -1 !== t;)this.splice(t, 1), r = !0, t = o(this, e) } while (++n < s); r && this._updateClassName() }, l.toggle = function (e, t) { e += ""; var i = this.contains(e), n = i ? !0 !== t && "remove" : !1 !== t && "add"; return n && this[n](e), !0 === t || !1 === t ? t : !i }, l.toString = function () { return this.join(" ") }, i.defineProperty) { var u = { get: c, enumerable: !0, configurable: !0 }; try { i.defineProperty(t, "classList", u) } catch (e) { -2146823252 === e.number && (u.enumerable = !1, i.defineProperty(t, "classList", u)) } } else i.prototype.__defineGetter__ && t.__defineGetter__("classList", c) } }(window.self))
}, function (e, t, i) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol ? "symbol" : typeof e }, s = function () { function e(e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (t, i, n) { return i && e(t.prototype, i), n && e(t, n), t } }(), r = y(i(4)), o = i(6), a = y(i(5)), l = y(i(7)), c = y(i(21)), u = y(i(22)), d = y(i(19)), h = i(13), f = y(i(18)), p = y(i(23)); i(26), i(27); var m = i(28), v = i(30), g = y(i(31)); function y(e) { return e && e.__esModule ? e : { default: e } } var w = function () { function e() { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), this.init() } return s(e, [{ key: "init", value: function () { this.Preloader = new c.default, this.Nav = new r.default, this.projectPreview = new l.default, this.allProjects = new u.default, new p.default(".contact-form", "php/index.php", "contact"), new p.default(".subscribe-form", "php/index.php", "subscribe"), this.scroll = new d.default(a.default.main), this.initEvents() } }, { key: "initEvents", value: function () { var e = this; window.addEventListener("load", function () { e.slider = new g.default, e.allProjects.init(), e.scroll.init(), a.default.windowIsLoad = !0, e.Preloader.showAtail(), setTimeout(function () { (0, f.default)(".intro-demo-image img"), (0, f.default)(".atail-text-logo img"), (0, f.default)(".atail-slider-item img"), (0, f.default)(".preview-images-item img"), (0, f.default)(".atail-post-title  img"), (0, f.default)(".atail-brands-item a img"), (0, f.default)(".atail-post-title img"), (0, f.default)(".figure-extended img"), (0, f.default)(".atail-post-most-likes img"), (0, f.default)(".widget_recent_entries img"), (0, f.default)(".widget_atail_recent_posts_widget img") }, 0) }), o.optimizedResize.add(function () { new h.Promise(function (e, t) { e(!0) }).then(function (t) { return a.default.resize(), e.Preloader.resize(), !0, !0 }).then(function (t) { return e.Nav.resize(), t }).then(function (t) { return e.projectPreview.resize(), t }).then(function (t) { return e.allProjects.resize(), t }).then(function (t) { return e.scroll.resize(), t }).then(function (e) { return e }).catch(function (e) { console.error("Error when window was resizing!", e) }) }), document.addEventListener("click", function (t) { var i = t.target, s = i.getAttribute("data-action"), r = "A" === i.tagName, o = "BODY" === i.tagName; if (!r && !s) for (; !(r && s || 9 === (i = i.parentNode).nodeType);) { if ("BODY" === i.tagName) { o = !0; break } if (s = i.getAttribute("data-action"), r = "A" === i.tagName, null !== s || r) break } if (o) return !1; if (r) { var a = function () { var n = i.getAttribute("href"), r = n && -1 !== n.indexOf("#"), o = i.getAttribute("onClick"); if (!r && !s) { if (!o) { var a = i.getAttribute("target"); if (a && -1 !== a.indexOf("_blank")) return { v: !1 }; if (/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream) return e.Nav.closeNav(), { v: !1 }; t.preventDefault(), document.body.classList.add("atail-hide-body"), setTimeout(function () { location.href = n }, 300) } return { v: !1 } } t.preventDefault() }(); if ("object" === (void 0 === a ? "undefined" : n(a))) return a.v } if (s) switch (s) { case "show-nav": e.Nav.showNav(); break; case "close-nav": e.Nav.closeNav(); break; case "open-full-post": e.projectPreview.openFullPost(i); break; case "full-post-close": e.projectPreview.closeFullPost(i); break; case "full-post-next-slide": e.projectPreview.nextSlide(); break; case "full-post-prev-slide": e.projectPreview.prevSlide(); break; case "full-post-show-info": t.stopPropagation(), e.projectPreview.fullPostShowInfo(); break; case "show-category": e.allProjects.showCategory(i); break; case "like": (0, m.blogPostLike)(i); break; case "dislike": (0, v.blogPostDislike)(i); break; case "slider-prev-slide": e.slider.goPrev(!0); break; case "slider-next-slide": e.slider.goNext(!0); break; case "all-projects": e.allProjects.showProjects(i); break; case "all-projects-close": e.allProjects.closeProjects() } }); var t = document.documentElement, i = document.body; document.addEventListener("scroll", function () { var n = t.scrollTop || i && i.scrollTop || 0; a.default.ww < 992 && e.allProjects.onScroll(n) }) } }]), e }(); t.default = w }, function (e, t, i) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n, s = function () { function e(e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (t, i, n) { return i && e(t.prototype, i), n && e(t, n), t } }(), r = i(5), o = (n = r) && n.__esModule ? n : { default: n }; var a = function () { function e() { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e); this.maxLinksCount = 5, this.excessives = !1, this.isInit = !1, this.init() } return s(e, [{ key: "init", value: function () { var e = this.navList = document.querySelector(".nav-list"); if (!e) return !1; if (this.atailHeader = document.querySelector(".atail"), !this.atailHeader) return console.error('Dont find node with class ".atail"'), !1; this.showNavBtn = document.querySelector('[data-action="show-nav"]'); var t = this.navListli = e.children; return !!t && ([].forEach.call(t, function (e, t) { var i = document.createElement("span"); i.className = "nav-list-counter"; var n = e.children[0]; i.innerHTML = "0" + (t + 1), n.insertBefore(i, n.firstChild) }), !((this.navListLiLength = t.length) <= this.maxLinksCount) && (this._createLink(), this._hideExcessives(), this.isInit = !0, !0)) } }, { key: "showNav", value: function () { this.atailHeader.classList.add("atail-header-opened"), this.showNavBtn.setAttribute("data-action", "close-nav"), document.body.style.overflow = "hidden" } }, { key: "closeNav", value: function () { this.atailHeader.classList.remove("atail-header-opened"), this.showNavBtn.setAttribute("data-action", "show-nav"), document.body.style.overflow = "" } }, { key: "_hideExcessives", value: function () { if (o.default.ww < 992) return !1; var e = this; if (e.excessives) return !1; e.excessives = !0; var t = e.maxLinksCount; return !(e.navListLiLength < e.maxLinksCount) && ((e.remnant = [].slice.call(e.navListli, t - 1)).forEach(function (t) { e.moreUl.appendChild(t) }), e.navList.appendChild(this.more), this.closeNav(), !0) } }, { key: "_showExcessives", value: function () { var e = this; return !!this.excessives && (this.excessives = !1, !(this.navListLiLength < this.maxLinksCount) && (this.navList.removeChild(this.more), this.remnant.forEach(function (t) { e.navList.appendChild(t) }), !0)) } }, { key: "_createLink", value: function () { var e = this.more = document.createElement("li"); e.className = "col-xs-2 more-links menu-item-has-children", e.innerHTML = '<a href="#"><span>More</span></a><ul></ul>', this.moreUl = e.querySelector("ul") } }, { key: "resize", value: function () { return !!this.isInit && (o.default.ww >= 992 ? this._hideExcessives() : this._showExcessives(), !0) } }]), e }(); t.default = a }, function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var i = function () { function e(e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (t, i, n) { return i && e(t.prototype, i), n && e(t, n), t } }(); var n = function () { function e() { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), this.ww = window.innerWidth, this.wh = window.innerHeight, this.atailMain = document.querySelector(".atail"), this.atailMainClientWidth = this.atailMain.clientWidth, this.main = document.querySelector(".main-scroll"), this.mainClientWidth = this.main.clientWidth, this.sides = document.querySelector(".sides"), this.header = document.querySelector(".atail-header"), this.lang = document.querySelector(".widget-lang"), this.windowIsLoad = !1, this.setScrollWidth(), this.main.ontouchstart = function (e) { e.stopPropagation() } } return i(e, [{ key: "setScrollWidth", value: function () { var e = document.createElement("div"); e.style.visibility = "hidden", e.style.width = "100px", e.style.msOverflowStyle = "scrollbar", document.body.appendChild(e); var t = e.offsetWidth; e.style.overflow = "scroll"; var i = document.createElement("div"); i.style.width = "100%", e.appendChild(i); var n = i.offsetWidth; e.parentNode.removeChild(e), this.scrollWidth = t - n } }, { key: "resize", value: function () { this.ww = window.innerWidth, this.wh = window.innerHeight, this.mainClientWidth = this.main.clientWidth, this.setScrollWidth() } }]), e }(); t.default = new n }, function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); t.optimizedResize = function () { var e = [], t = !1; function i() { t || (t = !0, window.requestAnimationFrame ? window.requestAnimationFrame(n) : setTimeout(n, 66)) } function n() { e.forEach(function (e) { e() }), t = !1 } return { add: function (t) { e.length || window.addEventListener("resize", i), function (t) { t && e.push(t) }(t) } } }() }, function (e, t, i) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = function () { function e(e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (t, i, n) { return i && e(t.prototype, i), n && e(t, n), t } }(), s = i(8), r = i(9), o = i(10), a = i(11), l = i(12), c = h(i(5)), u = h(i(18)), d = h(i(19)); function h(e) { return e && e.__esModule ? e : { default: e } } var f = function () { function e() { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), this.isInit = !1, this.init() } return n(e, [{ key: "init", value: function () { var e = this, t = this.projectPreview = document.querySelector(".project-preview"); if (!t) return !1; this.scroll = new d.default(t), this.scroll.init(), this.projectPreviewParent = t.parentNode, document.body.classList.add("window-height"), t.focus(); var i = this.projects = t.children; if (!i.length) return !1; this.projectsLength = i.length; var n = this.projectsImagesBox = document.querySelector(".preview-images-item"); this.projectsImages = [], this.fullPostSliderImages = [], i[0].classList.add("projects-item-active"), i[0].classList.add("projects-item-animate"), [].forEach.call(i, function (t) { t.classList.add("projects-item"); var i = t.querySelector('[id^="project-"]'); if (i && (i = i.getAttribute("id")), n) { var s = n.querySelector("." + i); s ? e.projectsImages.push(s) : e.projectsImages.push(!1) } }), this.projectsImages && this.projectsImages[0] && this.projectsImages[0].classList.add("images-item-active"), this.currentProject = i[0], this.currentProjectIndex = 0, this.prevProjectIndex = 0, this.animateBoxBot(), this.checkScroll(), this.initMouseWheel(), this.onKeyPress(), this.onTouch(), this.createFullPost(), this.scroll.createScroll(), this.isInit = !0 } }, { key: "initMouseWheel", value: function () { var e = this, t = !1, i = !1, n = function (n) { if ((n = n || window.event).preventDefault ? n.preventDefault() : n.returnValue = !1, e.isAnimating) return n.preventDefault(), !1; var s, r = n.currentTarget, o = n.deltaY || n.detail || n.wheelDelta; (/rv:11.0/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /MSIE 10/i.test(navigator.userAgent)) && (o = -o), o < 100 && o > 0 ? o = 100 : o > -100 && o < 0 && (o = -100), e.hasScroll ? 0 === (s = r).scrollTop && o < 0 ? i = !0 : s.scrollTop >= e.maxScrollHeight && o > 0 ? t = !0 : (e.isAnimating = !0, e.startPosition = s.scrollTop, e.endPosition = e.startPosition + 2 * o, e.path = e.endPosition - e.startPosition, (0, a.jsAnimation)({ duration: 300, timing: function (e) { return e }, draw: function (t) { if (s.scrollTop = e.startPosition + e.path * t, c.default.ww >= 992) { var i = (e.startPosition + e.path * t) * e.scroll.precent; i < 0 ? i = 0 : i > s.clientHeight - e.scroll.lineHeight && (i = s.clientHeight - e.scroll.lineHeight), e.scroll.scrollLine.style.top = i + "px" } t >= 1 && (e.isAnimating = !1) } })) : o > 0 ? t = !0 : o < 0 && (i = !0), t && (e.showNextProject(), t = !1), i && (e.showPrevProject(), i = !1) }, s = this.projectPreview; s.addEventListener ? "onwheel" in document ? s.addEventListener("wheel", n) : "onmousewheel" in document ? s.addEventListener("mousewheel", n) : s.addEventListener("MozMousePixelScroll", n) : s.attachEvent("onmousewheel", n) } }, { key: "onKeyPress", value: function () { var e = this, t = !1, i = !1, n = !1; this.projectPreview.addEventListener("keydown", function () { if (n) return !1; n = !0, e.maxScrollHeight || e.checkScroll(), e.hasScroll && (t = 0 === e.projectPreview.scrollTop, i = e.projectPreview.scrollTop >= e.maxScrollHeight) }), this.projectPreview.addEventListener("keyup", function (s) { if (e.fullPostIsOpen || e.isAnimating) return !1; e.hasScroll ? t && 0 === e.projectPreview.scrollTop ? 38 === s.keyCode && e.showPrevProject() : i && e.projectPreview.scrollTop >= e.maxScrollHeight && 40 === s.keyCode && e.showNextProject() : (38 === s.keyCode && e.showPrevProject(), 40 === s.keyCode && e.showNextProject()), t = !1, i = !1, n = !1 }) } }, { key: "onTouch", value: function () { var e = this, t = !1, i = !1, n = null, s = null, r = 0; this.projectPreview.addEventListener("touchstart", function (s) { if (e.isAnimating) return !1; e.maxScrollHeight || e.checkScroll(), e.hasScroll && (t = 0 === e.projectPreview.scrollTop, i = e.projectPreview.scrollTop === e.maxScrollHeight); var r = s.touches[0]; n = r.clientY }), this.projectPreview.addEventListener("touchmove", function (t) { if (e.isAnimating) return !1; var i = t.touches[0]; s = i.clientY, r = n - s }), this.projectPreview.addEventListener("touchend", function () { if (e.isAnimating) return !1; e.hasScroll || (r < -20 ? t = !0 : r > 20 && (i = !0)), 0 === e.projectPreview.scrollTop && t && r < -20 && e.showPrevProject(), e.projectPreview.scrollTop === e.maxScrollHeight && i && r > 20 && e.showNextProject(), t = !1, i = !1, r = 0 }) } }, { key: "showNextProject", value: function () { if (this.isAnimating) return !1; this.prevProjectIndex = this.currentProjectIndex; var e = this.currentProjectIndex + 1; if (e >= this.projectsLength && (e = 0), this.currentProjectIndex = e, this.prevProjectIndex === this.currentProjectIndex) return !1; this.fromBottom = !0, this.showProject() } }, { key: "showPrevProject", value: function () { if (this.isAnimating) return !1; this.prevProjectIndex = this.currentProjectIndex; var e = this.currentProjectIndex - 1; if (e < 0 && (e = this.projectsLength - 1), this.currentProjectIndex = e, this.prevProjectIndex === this.currentProjectIndex) return !1; this.fromTop = !0, this.showProject() } }, { key: "showProject", value: function () { if (this.isAnimating = !0, !o.animationSupport) { var e = this.projects, t = this.projectsImages, i = this.currentProjectIndex, n = this.prevProjectIndex; return e[i].classList.add("projects-item-active"), e[n].classList.remove("projects-item-active"), e[i].classList.add("projects-item-animate"), e[n].classList.remove("projects-item-animate"), this.projectPreview.scrollTop = 0, t[n] && t[n].classList.remove("images-item-active"), t[i] && t[i].classList.add("images-item-active"), this.checkScroll(), this.isAnimating = !1, !1 } this.animateWrap.classList.add("z-index-3"), this.projects[this.prevProjectIndex].classList.add("projects-count-hide"), this.projects[this.prevProjectIndex].classList.remove("projects-item-animate"), this.fromBottom && this.animateBoxBot.classList.add("from-bottom"), this.fromTop && this.animateBoxTop.classList.add("from-top") } }, { key: "checkScroll", value: function () { var e = this.offsetHeight = this.projectPreview.offsetHeight, t = this.fullHeight = this.projectPreview.scrollHeight; this.maxScrollHeight = t - e, this.hasScroll = e + 1 < t } }, { key: "animateBoxBot", value: function () { var e = this, t = this.animateBoxBot = document.createElement("DIV"), i = this.animateBoxTop = document.createElement("DIV"), n = this.animateWrap = document.createElement("DIV"); t.className = "animate-box-bot", i.className = "animate-box-top", n.className = "animate-wrap", t.innerHTML = "<div></div><div></div><div></div>", i.innerHTML = "<div></div><div></div><div></div>", n.appendChild(t), n.appendChild(i), this.projectsImagesBox.appendChild(n); var r = 0, o = function () { var s = e.projects, o = e.projectsImages, a = e.currentProjectIndex, l = e.prevProjectIndex; 1 === ++r ? (s[a].classList.add("projects-item-active"), s[l].classList.remove("projects-item-active"), s[l].classList.remove("projects-count-hide"), setTimeout(function () { s[a].classList.add("projects-item-animate") }, 0), e.projectPreview.scrollTop = 0, o[l] && o[l].classList.remove("images-item-active"), o[a] && o[a].classList.add("images-item-active"), e.checkScroll(), e.fromBottom ? t.classList.add("from-bottom-end") : e.fromTop && i.classList.add("from-top-end"), e.scroll.setScrollSize()) : 2 === r && (n.classList.remove("z-index-3"), r = 0, e.fromBottom ? (t.classList.remove("from-bottom"), t.classList.remove("from-bottom-end"), e.fromBottom = !1) : e.fromTop && (i.classList.remove("from-top"), i.classList.remove("from-top-end"), e.fromTop = !1), e.isAnimating = !1) }; t.addEventListener(s.transitionEvent, o), i.addEventListener(s.transitionEvent, o) } }, { key: "openFullPost", value: function (e) { var t = this; if (this.isAnimating) return !1; this.isAnimating = !0, e.classList.add("is-loading"), (0, l.httpGet)("jsons/atail_get_popup_project/", e).then(function (i) { return e.classList.remove("is-loading"), c.default.atailMain.appendChild(t.fullPost), t.fullPostIsOpen = !0, i = JSON.parse(i) }, function () { return !1 }).then(function (e) { if (!e) return !1; var i = t.projectsImages[t.currentProjectIndex] && t.projectsImages[t.currentProjectIndex].cloneNode(!0); if (i) { i.classList.add("active"); var n = document.createElement("DIV"); n.className = "post-slider-image-item", n.appendChild(i), t.postSliderImages.appendChild(n), t.fullPostSliderImages.push(n), i.getAttribute("src") } e.slides && e.slides.forEach(function (e) { var i = e.type; "image" === i ? function () { var i = new Image, n = e.src.img, s = e.src.title; i.onload = function () { (0, u.default)(i) }; var r = document.createElement("DIV"); r.className = "post-slider-image-item"; var o = e.fit; switch (o) { case "contain": r.classList.add("contain-fit"); break; case "full": r.classList.add("full-fit") }i.src = n, i.alt = s; var a = null; "full" === o ? ((a = document.createElement("DIV")).className = "post-slider-item-scroll", a.appendChild(i), r.appendChild(a)) : r.appendChild(i), t.postSliderImages.appendChild(r), t.fullPostSliderImages.push(r), "full" === o && t.scrollItem.push(new d.default(a)) }() : "video" === i && function () { var i = document.createElement("IFRAME"); i.setAttribute("frameborder", 0), setTimeout(function () { i.setAttribute("src", e.src) }, 2e3); var n = document.createElement("DIV"); n.className = "post-slider-video-item", n.appendChild(i), t.postSliderImages.appendChild(n), t.fullPostSliderImages.push(n) }() }), t.fullPostSliderImages && t.fullPostSliderImages.length > 0 && (t.fullPostCurrentIndex = 0, t.fullPostPrevIndex = 0, t.fullPostSliderImages[0].classList.add("active"), t.fullPostSliderImages.length > 1 && (t.fullPostNextSlide.innerHTML = t.arrowTemplate, t.fullPostPrevSlide.innerHTML = t.arrowTemplate, t.postSliderImages.appendChild(t.fullPostNextSlide), t.postSliderImages.appendChild(t.fullPostPrevSlide))); var s = e.date_start ? e.date_start : "", r = e.date_finish ? e.date_finish : ""; t.contentHeader.innerHTML = "<h4>" + e.title + "</h4>" + s + r + "<p>" + e.content + "</p>"; var o = e.positions ? e.participants : "", a = e.positions; for (var l in e.positions) a.hasOwnProperty(l) && (o += '<span class="small-title">' + a[l].title + "<span>" + a[l].url + "</span></span>"); return t.contentFooter.innerHTML = o, t.createShares(e.link, e.title), c.default.lang && c.default.lang.classList.add("hide-lang"), !0 }).then(function (e) { return setTimeout(function () { t.fullPost.classList.add("show-post-content"), o.animationSupport || t.fullPost.classList.add("no-animating") }, 1e3 / 60), e }).then(function (e) { return t.isAnimating = !1, e }).catch(function () { t.isAnimating = !1 }) } }, { key: "closeFullPost", value: function () { this.fullPost.classList.add("close-post-content"), this.fullPost.classList.remove("show-post-content"), this.fullPost.classList.remove("show-in-mobile"), c.default.main.parentNode.style.opacity = ""; var e = this.projectsImages, t = this.fullPostSliderImages, i = this.currentProjectIndex, n = this.fullPostCurrentIndex; if (!e[i] || !t[n]) return !1; if (this.scrollItem.forEach(function (e) { e.remove() }), this.scrollItem = [], this.scrollItemIsInited = !1, !o.animationSupport) { for (this.fullPost.classList.remove("no-animating"), this.fullPost.classList.remove("close-post-content"), this.fullPost.classList.remove("show-post-content"), this.fullPost.parentNode.removeChild(this.fullPost); this.postSliderImages.firstChild;)this.postSliderImages.removeChild(this.postSliderImages.firstChild); this.fullPostSliderImages = [], this.fullPostIsOpen = !1, this.projectPreview.focus(), c.default.lang && c.default.lang.classList.remove("hide-lang") } } }, { key: "createFullPost", value: function () { var e = this, t = this.fullPost = document.createElement("DIV"); t.className = "full-post row", t.style.width = c.default.main.offsetWidth + "px"; var i = this.fullPostSlider = document.createElement("DIV"); i.className = "full-post-slider col-xs-10"; var n = this.postSliderImages = document.createElement("DIV"); n.className = "post-slider-images"; var o = void 0, a = void 0, l = void 0; n.addEventListener("touchstart", function (e) { var t = e.touches[0]; o = t.clientX }), n.addEventListener("touchmove", function (e) { var t = e.touches[0]; a = t.clientX }), n.addEventListener("touchend", function () { if (l = o - a, e.fullPostSliderImages.length <= 1) return !1; l >= 50 ? e.nextSlide() : l <= -50 && e.prevSlide() }), i.appendChild(n); var u = this.arrowTemplate = '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width = "57.143px" height = "34.454px" viewBox = "0 0 57.143 34.454" enable - background = "new 0 0 57.143 34.454" xml: space = "preserve"><g><g><polygon points ="51.908,17.599 46.891,13.1 46.891,17.094 6.904,17.094 6.904,18.094 46.891,18.094 46.891,22.099"/></g></g></svg>'; this.fullPostNextSlide = document.createElement("SPAN"), this.fullPostNextSlide.className = "full-post-next-slide", this.fullPostNextSlide.setAttribute("data-action", "full-post-next-slide"), this.fullPostNextSlide.innerHTML = u, this.fullPostPrevSlide = document.createElement("SPAN"), this.fullPostPrevSlide.className = "full-post-prev-slide", this.fullPostPrevSlide.setAttribute("data-action", "full-post-prev-slide"), this.fullPostPrevSlide.innerHTML = u; var h = this.fullPostContent = document.createElement("DIV"); h.className = "full-post-content col-xs-2"; var f = this.contentTableWrapper = document.createElement("DIV"); f.className = "post-content-table-wrapper"; var p = this.contentTable = document.createElement("DIV"); p.className = "post-content-table"; var m = this.contentHeader = document.createElement("DIV"); m.className = "post-content-header"; var v = this.contentFooter = document.createElement("DIV"); v.className = "post-content-footer", f.appendChild(p), p.appendChild(m), p.appendChild(v), h.appendChild(f), t.appendChild(i), t.appendChild(h); h.addEventListener(s.transitionEvent, function () { e.fullPost.classList.contains("show-post-content") && (c.default.main.parentNode.style.opacity = "0") }); var g = document.createElement("DIV"), y = document.createElement("BUTTON"), w = document.createElement("DIV"); g.className = "full-post-mobile-menu"; var b = this.mobileMenuCloseBtn = document.createElement("SPAN"); b.className = "mobile-menu-close-btn", b.setAttribute("data-action", "full-post-show-info"), y.className = "full-post-mobile-info", y.setAttribute("data-action", "full-post-show-info"), y.innerHTML = "info", g.appendChild(y), g.appendChild(w), t.appendChild(g), t.appendChild(b); var P = this.closeBtn = document.createElement("SPAN"); P.className = "full-post-close", P.setAttribute("data-action", "full-post-close"), t.appendChild(P), this.scrollItem = [], this.scrollItemIsInited = !1; n.addEventListener(r.animationEvent, function () { e.isAnimating = !1, e.fullPost.classList.contains("close-post-content") ? (e.fullPost.classList.remove("close-post-content"), e.fullPost.classList.remove("show-post-content"), e.fullPost.parentNode.removeChild(e.fullPost), e.postSliderImages.innerHTML = "", e.fullPostSliderImages = [], e.scrollItem = [], e.fullPostIsOpen = !1, e.projectPreview.focus(), c.default.lang && c.default.lang.classList.remove("hide-lang")) : e.fullPost.classList.contains("show-post-content") && (e.scrollItemIsInited ? e.scrollItemIsInited && e.scrollItem.forEach(function (e) { e.resize() }) : (e.scrollItemIsInited = !0, e.scrollItem.push(new d.default(e.contentTableWrapper)), e.scrollItem.forEach(function (e) { e.init() }))) }); var L = this.fullPostAnimateBox = document.createElement("DIV"), x = this.animateBoxRight = document.createElement("DIV"), S = this.animateBoxLeft = document.createElement("DIV"); L.className = "full-post-animate-box", x.className = "animate-box-right", S.className = "animate-box-left", L.appendChild(S), L.appendChild(x); var j = function () { e.fullPostAnimateBox.classList.contains("from-right") ? e.fullPostAnimateBox.classList.contains("from-right-end") ? (e.fullPostAnimateBox.classList.remove("from-right-end"), e.fullPostAnimateBox.classList.remove("from-right")) : (e.fullPostSliderImages[e.fullPostCurrentIndex].classList.add("active"), e.fullPostSliderImages[e.fullPostPrevIndex].classList.remove("active"), e.fullPostAnimateBox.classList.add("from-right-end")) : e.fullPostAnimateBox.classList.contains("from-left") && (e.fullPostAnimateBox.classList.contains("from-left-end") ? (e.fullPostAnimateBox.classList.remove("from-left-end"), e.fullPostAnimateBox.classList.remove("from-left")) : (e.fullPostSliderImages[e.fullPostCurrentIndex].classList.add("active"), e.fullPostSliderImages[e.fullPostPrevIndex].classList.remove("active"), e.fullPostAnimateBox.classList.add("from-left-end"))) }; x.addEventListener(s.transitionEvent, j), S.addEventListener(s.transitionEvent, j), i.appendChild(L) } }, { key: "nextSlide", value: function () { var e = this.fullPostCurrentIndex; this.fullPostPrevIndex = e, ++e >= this.fullPostSliderImages.length && (e = 0), this.fullPostCurrentIndex = e, o.animationSupport ? this.fullPostAnimateBox.classList.add("from-right") : (this.fullPostSliderImages[this.fullPostCurrentIndex].classList.add("active"), this.fullPostSliderImages[this.fullPostPrevIndex].classList.remove("active")) } }, { key: "prevSlide", value: function () { var e = this.fullPostCurrentIndex; this.fullPostPrevIndex = e, --e < 0 && (e = this.fullPostSliderImages.length - 1), this.fullPostCurrentIndex = e, o.animationSupport ? this.fullPostAnimateBox.classList.add("from-left") : (this.fullPostSliderImages[this.fullPostCurrentIndex].classList.add("active"), this.fullPostSliderImages[this.fullPostPrevIndex].classList.remove("active")) } }, { key: "showSlide", value: function () { o.animationSupport || (this.fullPostSliderImages[this.fullPostCurrentIndex].classList.add("active"), this.fullPostSliderImages[this.fullPostPrevIndex].classList.remove("active"), this.scroll.setScrollSize()) } }, { key: "fullPostShowInfo", value: function () { this.fullPost.classList.contains("show-in-mobile") ? this.fullPost.classList.remove("show-in-mobile") : this.fullPost.classList.add("show-in-mobile") } }, { key: "resize", value: function () { if (!this.isInit) return !1; this.checkScroll(), this.fullPost.style.width = c.default.main.offsetWidth + "px", this.scroll.resize(), this.scrollItem.forEach(function (e) { e.resize() }) } }, { key: "createShares", value: function (e, t) { var i = document.createElement("DIV"); i.classList.add("atail-project-shares"), this.contentHeader.appendChild(i); JSON.parse(document.body.getAttribute("data-share")) } }]), e }(); t.default = f }, function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); t.transitionEvent = function () { var e, t = document.createElement("fakeelement"), i = { transition: "transitionend", OTransition: "oTransitionEnd", MozTransition: "transitionend", WebkitTransition: "webkitTransitionEnd" }; for (e in i) if (void 0 !== t.style[e]) return i[e] }() }, function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); t.animationEvent = function () { var e, t = document.createElement("fakeelement"), i = { animation: "animationend", OAnimation: "oAnimationEnd", MozAnimation: "animationend", WebkitAnimation: "webkitAnimationEnd" }; for (e in i) if (void 0 !== t.style[e]) return i[e] }() }, function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var i = !1, n = "Webkit Moz O ms Khtml".split(" "), s = "", r = document.createElement("div"); if (void 0 !== r.style.animationName && (i = !0), !1 === i) for (var o = 0; o < n.length; o++)if (void 0 !== r.style[n[o] + "AnimationName"]) { (s = n[o]) + "Animation", "-" + s.toLowerCase() + "-", i = !0; break } t.animationSupport = i }, function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.jsAnimation = function (e) { var t = performance.now(); requestAnimationFrame(function i(n) { var s = (n - t) / e.duration; s > 1 && (s = 1); var r = e.timing(s); e.draw(r), s < 1 && requestAnimationFrame(i) }) } }, function (e, t, i) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.httpGet = function (e, t) { var i = t.getAttribute("data-post"); return i = i ? i + ".json" : "", new n.Promise(function (t, n) { var s = new XMLHttpRequest; s.open("GET", e + i + "?nochashe=" + (new Date).getTime(), !0), s.onload = function () { if (200 == this.status) t(this.response); else { var e = new Error(this.statusText); e.code = this.status, n(e) } }, s.onerror = function () { n(new Error("Network Error")) }, s.send() }) }, t.httpPost = function (e, t, i) { return new n.Promise(function (n, s) { var r = new XMLHttpRequest; r.open("POST", e, !0), r.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), r.setRequestHeader("X-Requested-With", "XMLHttpRequest"), r.onload = function () { if (200 == this.status) n(this.response); else { var e = new Error(this.statusText); e.code = this.status, s(e) } }, r.onerror = function () { s(new Error("Network Error")) }; var o = "action=" + i; for (var a in t) t.hasOwnProperty(a) && (o += o ? "&" + a + "=" + t[a] : a + "=" + t[a]); r.send(o) }) }; var n = i(13) }, function (e, t, i) {
    var n; (function (e, s, r) {
        /*!
             * @overview es6-promise - a tiny implementation of Promises/A+.
             * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
             * @license   Licensed under MIT license
             *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
             * @version   3.2.1
             */
        (function () { "use strict"; function o(e) { return "function" == typeof e } var a, l, c = Array.isArray ? Array.isArray : function (e) { return "[object Array]" === Object.prototype.toString.call(e) }, u = 0, d = function (e, t) { x[u] = e, x[u + 1] = t, 2 === (u += 2) && (l ? l(S) : y()) }; var h = "undefined" != typeof window ? window : void 0, f = h || {}, p = f.MutationObserver || f.WebKitMutationObserver, m = "undefined" == typeof self && void 0 !== e && "[object process]" === {}.toString.call(e), v = "undefined" != typeof Uint8ClampedArray && "undefined" != typeof importScripts && "undefined" != typeof MessageChannel; function g() { return function () { setTimeout(S, 1) } } var y, w, b, P, L, x = new Array(1e3); function S() { for (var e = 0; e < u; e += 2) { (0, x[e])(x[e + 1]), x[e] = void 0, x[e + 1] = void 0 } u = 0 } m ? y = function () { e.nextTick(S) } : p ? (b = 0, P = new p(S), L = document.createTextNode(""), P.observe(L, { characterData: !0 }), y = function () { L.data = b = ++b % 2 }) : v ? ((w = new MessageChannel).port1.onmessage = S, y = function () { w.port2.postMessage(0) }) : y = void 0 === h ? function () { try { var e = i(16); return a = e.runOnLoop || e.runOnContext, function () { a(S) } } catch (e) { return g() } }() : g(); var j = function (e, t) { var i = this, n = new this.constructor(E); void 0 === n[A] && U(n); var s = i._state; if (s) { var r = arguments[s - 1]; d(function () { R(s, n, r, i._result) }) } else q(i, n, e, t); return n }; var I = function (e) { if (e && "object" == typeof e && e.constructor === this) return e; var t = new this(E); return M(t, e), t }, A = Math.random().toString(36).substring(16); function E() { } var _ = void 0, k = 1, T = 2, C = new z; function N(e) { try { return e.then } catch (e) { return C.error = e, C } } function O(e, t, i) { t.constructor === e.constructor && i === j && constructor.resolve === I ? function (e, t) { t._state === k ? B(e, t._result) : t._state === T ? D(e, t._result) : q(t, void 0, function (t) { M(e, t) }, function (t) { D(e, t) }) }(e, t) : i === C ? D(e, C.error) : void 0 === i ? B(e, t) : o(i) ? function (e, t, i) { d(function (e) { var n = !1, s = function (e, t, i, n) { try { e.call(t, i, n) } catch (e) { return e } }(i, t, function (i) { n || (n = !0, t !== i ? M(e, i) : B(e, i)) }, function (t) { n || (n = !0, D(e, t)) }, e._label); !n && s && (n = !0, D(e, s)) }, e) }(e, t, i) : B(e, t) } function M(e, t) { var i; e === t ? D(e, new TypeError("You cannot resolve a promise with itself")) : "function" == typeof (i = t) || "object" == typeof i && null !== i ? O(e, t, N(t)) : B(e, t) } function H(e) { e._onerror && e._onerror(e._result), W(e) } function B(e, t) { e._state === _ && (e._result = t, e._state = k, 0 !== e._subscribers.length && d(W, e)) } function D(e, t) { e._state === _ && (e._state = T, e._result = t, d(H, e)) } function q(e, t, i, n) { var s = e._subscribers, r = s.length; e._onerror = null, s[r] = t, s[r + k] = i, s[r + T] = n, 0 === r && e._state && d(W, e) } function W(e) { var t = e._subscribers, i = e._state; if (0 !== t.length) { for (var n, s, r = e._result, o = 0; o < t.length; o += 3)n = t[o], s = t[o + i], n ? R(i, n, s, r) : s(r); e._subscribers.length = 0 } } function z() { this.error = null } var F = new z; function R(e, t, i, n) { var s, r, a, l, c = o(i); if (c) { if ((s = function (e, t) { try { return e(t) } catch (e) { return F.error = e, F } }(i, n)) === F ? (l = !0, r = s.error, s = null) : a = !0, t === s) return void D(t, new TypeError("A promises callback cannot return that same promise.")) } else s = n, a = !0; t._state !== _ || (c && a ? M(t, s) : l ? D(t, r) : e === k ? B(t, s) : e === T && D(t, s)) } var V = 0; function U(e) { e[A] = V++ , e._state = void 0, e._result = void 0, e._subscribers = [] } var Y = function (e) { return new K(this, e).promise }; var X = function (e) { var t = this; return c(e) ? new t(function (i, n) { for (var s = e.length, r = 0; r < s; r++)t.resolve(e[r]).then(i, n) }) : new t(function (e, t) { t(new TypeError("You must pass an array to race.")) }) }; var G = function (e) { var t = new this(E); return D(t, e), t }; var $ = J; function J(e) { this[A] = V++ , this._result = this._state = void 0, this._subscribers = [], E !== e && ("function" != typeof e && function () { throw new TypeError("You must pass a resolver function as the first argument to the promise constructor") }(), this instanceof J ? function (e, t) { try { t(function (t) { M(e, t) }, function (t) { D(e, t) }) } catch (t) { D(e, t) } }(this, e) : function () { throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.") }()) } J.all = Y, J.race = X, J.resolve = I, J.reject = G, J._setScheduler = function (e) { l = e }, J._setAsap = function (e) { d = e }, J._asap = d, J.prototype = { constructor: J, then: j, catch: function (e) { return this.then(null, e) } }; var K = Q; function Q(e, t) { this._instanceConstructor = e, this.promise = new e(E), this.promise[A] || U(this.promise), c(t) ? (this._input = t, this.length = t.length, this._remaining = t.length, this._result = new Array(this.length), 0 === this.length ? B(this.promise, this._result) : (this.length = this.length || 0, this._enumerate(), 0 === this._remaining && B(this.promise, this._result))) : D(this.promise, new Error("Array Methods must be provided an Array")) } Q.prototype._enumerate = function () { for (var e = this.length, t = this._input, i = 0; this._state === _ && i < e; i++)this._eachEntry(t[i], i) }, Q.prototype._eachEntry = function (e, t) { var i = this._instanceConstructor, n = i.resolve; if (n === I) { var s = N(e); if (s === j && e._state !== _) this._settledAt(e._state, t, e._result); else if ("function" != typeof s) this._remaining-- , this._result[t] = e; else if (i === $) { var r = new i(E); O(r, e, s), this._willSettleAt(r, t) } else this._willSettleAt(new i(function (t) { t(e) }), t) } else this._willSettleAt(n(e), t) }, Q.prototype._settledAt = function (e, t, i) { var n = this.promise; n._state === _ && (this._remaining-- , e === T ? D(n, i) : this._result[t] = i), 0 === this._remaining && B(n, this._result) }, Q.prototype._willSettleAt = function (e, t) { var i = this; q(e, void 0, function (e) { i._settledAt(k, t, e) }, function (e) { i._settledAt(T, t, e) }) }; var Z = function () { var e; if (void 0 !== s) e = s; else if ("undefined" != typeof self) e = self; else try { e = Function("return this")() } catch (e) { throw new Error("polyfill failed because global object is unavailable in this environment") } var t = e.Promise; t && "[object Promise]" === Object.prototype.toString.call(t.resolve()) && !t.cast || (e.Promise = $) }, ee = { Promise: $, polyfill: Z }; i(17).amd ? void 0 === (n = function () { return ee }.call(t, i, t, r)) || (r.exports = n) : void 0 !== r && r.exports ? r.exports = ee : void 0 !== this && (this.ES6Promise = ee), Z() }).call(this)
    }).call(t, i(14), function () { return this }(), i(15)(e))
}, function (e, t) { var i, n, s = e.exports = {}; !function () { try { i = setTimeout } catch (e) { i = function () { throw new Error("setTimeout is not defined") } } try { n = clearTimeout } catch (e) { n = function () { throw new Error("clearTimeout is not defined") } } }(); var r, o = [], a = !1, l = -1; function c() { a && r && (a = !1, r.length ? o = r.concat(o) : l = -1, o.length && u()) } function u() { if (!a) { var e = i(c); a = !0; for (var t = o.length; t;) { for (r = o, o = []; ++l < t;)r && r[l].run(); l = -1, t = o.length } r = null, a = !1, n(e) } } function d(e, t) { this.fun = e, this.array = t } function h() { } s.nextTick = function (e) { var t = new Array(arguments.length - 1); if (arguments.length > 1) for (var n = 1; n < arguments.length; n++)t[n - 1] = arguments[n]; o.push(new d(e, t)), 1 !== o.length || a || i(u, 0) }, d.prototype.run = function () { this.fun.apply(null, this.array) }, s.title = "browser", s.browser = !0, s.env = {}, s.argv = [], s.version = "", s.versions = {}, s.on = h, s.addListener = h, s.once = h, s.off = h, s.removeListener = h, s.removeAllListeners = h, s.emit = h, s.binding = function (e) { throw new Error("process.binding is not supported") }, s.cwd = function () { return "/" }, s.chdir = function (e) { throw new Error("process.chdir is not supported") }, s.umask = function () { return 0 } }, function (e, t) { e.exports = function (e) { return e.webpackPolyfill || (e.deprecate = function () { }, e.paths = [], e.children = [], e.webpackPolyfill = 1), e } }, function (e, t) { }, function (e, t) { e.exports = function () { throw new Error("define cannot be used indirect") } }, function (e, t) { "use strict"; var i = "data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==", n = /(object-fit|object-position)\s*:\s*([-\w\s%]+)/g, s = new Image, r = "object-fit" in s.style, o = "object-position" in s.style, a = "string" == typeof s.currentSrc, l = s.getAttribute, c = s.setAttribute, u = !1; function d(e, t) { if (!e[i].parsingSrcset) { var s = function (e) { for (var t, i = getComputedStyle(e).fontFamily, s = {}; null !== (t = n.exec(i));)s[t[1]] = t[2]; return s }(e); if (s["object-fit"] = s["object-fit"] || "fill", !e[i].s) { if ("fill" === s["object-fit"]) return; if (!e[i].skipTest && r && !s["object-position"]) return } var o = e.currentSrc || e.src; if (t) o = t; else if (e.srcset && !a && window.picturefill) { var c = window.picturefill._.ns; e[i].parsingSrcset = !0, e[c] && e[c].evaled || window.picturefill._.fillImg(e, { reselect: !0 }), e[c].curSrc || (e[c].supported = !1, window.picturefill._.fillImg(e, { reselect: !0 })), delete e[i].parsingSrcset, o = e[c].curSrc || o } e[i].s ? (e[i].s = o, t && (e[i].srcAttr = t)) : (e[i] = { s: o, srcAttr: t || l.call(e, "src"), srcsetAttr: e.srcset }, e.src = i, e.srcset && (e.srcset = "", Object.defineProperty(e, "srcset", { value: e[i].srcsetAttr })), function (e) { var t = { get: function () { return e[i].s }, set: function (t) { return delete e[i].i, d(e, t), t } }; Object.defineProperty(e, "src", t), Object.defineProperty(e, "currentSrc", { get: t.get }) }(e)), e.style.backgroundImage = 'url("' + o + '")', e.style.backgroundPosition = s["object-position"] || "center", e.style.backgroundRepeat = "no-repeat", /scale-down/.test(s["object-fit"]) ? (e[i].i || (e[i].i = new Image, e[i].i.src = o), function t() { e[i].i.naturalWidth ? e[i].i.naturalWidth > e.width || e[i].i.naturalHeight > e.height ? e.style.backgroundSize = "contain" : e.style.backgroundSize = "auto" : setTimeout(t, 100) }()) : e.style.backgroundSize = s["object-fit"].replace("none", "auto").replace("fill", "100% 100%") } } function h(e, t) { var n = !u && !e; if (t = t || {}, e = e || "img", o && !t.skipTest) return !1; "string" == typeof e ? e = document.querySelectorAll("img") : e.length || (e = [e]); for (var s = 0; s < e.length; s++)e[s][i] = e[s][i] || t, d(e[s]); n && (document.body.addEventListener("load", function (e) { "IMG" === e.target.tagName && h(e.target, { skipTest: t.skipTest }) }, !0), u = !0, e = "img"), t.watchMQ && window.addEventListener("resize", h.bind(null, e, { skipTest: t.skipTest })) } h.supportsObjectFit = r, h.supportsObjectPosition = o, o || (HTMLImageElement.prototype.getAttribute = function (e) { return !this[i] || "src" !== e && "srcset" !== e ? l.call(this, e) : this[i][e + "Attr"] }, HTMLImageElement.prototype.setAttribute = function (e, t) { !this[i] || "src" !== e && "srcset" !== e ? c.call(this, e, t) : this["src" === e ? "src" : e + "Attr"] = String(t) }), e.exports = h }, function (e, t, i) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = function () { function e(e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (t, i, n) { return i && e(t.prototype, i), n && e(t, n), t } }(), s = o(i(5)), r = o(i(20)); function o(e) { return e && e.__esModule ? e : { default: e } } var a = function () { function e(t) { if (function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), !t || !t.nodeType) return !1; if (this.box = t, this.parent = t.parentNode, this.boxWithScroll = t, this.hasScroll = !1, this.isProjectPreview = !1, this.isAjaxProject = !1, this.isAjaxProjectTableWrapper = !1, this.isMainScroll = !1, this.isAllProjects = !1, this.box.classList.contains("all-atail-projects")) { if (this.isAllProjects = !0, this.parent.querySelector(".atail-scroll")) return !1 } else if (this.box.classList.contains("main-scroll")) { if (this.isMainScroll = !0, this.parent.querySelector(".atail-scroll")) return !1 } else if (this.box.classList.contains("project-preview")) { if (this.isProjectPreview = !0, this.parent.querySelector(".atail-scroll")) return !1 } else if (this.box.classList.contains("post-slider-item-scroll")) { if (this.isAjaxProject = !0, this.parent.querySelector(".atail-scroll")) return !1 } else if (this.box.classList.contains("post-content-table-wrapper")) { if (this.isAjaxProjectTableWrapper = !0, this.parent.querySelector(".atail-scroll")) return !1 } else { if (document.body.querySelector(".atail-scroll")) return !1 } this.isIos = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream, this.scrollIsInit = !1 } return n(e, [{ key: "init", value: function () { this.scrollIsInit = !0, this.createScroll(), this.onScroll() } }, { key: "createScroll", value: function () { var e = this; if (!this.scrollIsInit) return !1; this.currentTop = 0; var t = this.scroll = document.createElement("DIV"); t.className = "atail-scroll"; var i = this.scrollLine = document.createElement("SPAN"); i.className = "atail-scroll-line", t.appendChild(i), this.isMainScroll || this.isAllProjects ? document.body.appendChild(t) : this.parent && this.parent.appendChild(t); var n, s, r, o = !1, a = !1, l = function t() { o = !1, a = !1, e.scrollLine.style.transition = "", e.scrollLine.style.WebkitTransition = "", document.removeEventListener("mouseup", t) }; t.addEventListener("mouseenter", function () { t.classList.add("hovered") }), t.addEventListener("mouseleave", function () { t.classList.remove("hovered") }), t.addEventListener("click", function (t) { t.preventDefault(), t.stopPropagation(), a || (e.box.scrollTop = t.clientY / e.precent, a = !1) }), i.addEventListener("click", function (t) { t.preventDefault(), t.stopPropagation(), o = !1, e.scrollLine.style.transition = "", e.scrollLine.style.WebkitTransition = "", document.removeEventListener("mouseup", l) }), i.addEventListener("mousedown", function (t) { o = !0, t.preventDefault(), n = t.clientY, e.currentScrollTop = e.box.scrollTop, e.scrollLine.style.transition = "top 0s ease, height .3s ease, border-right-width .2s ease, opacity .3s ease", e.scrollLine.style.WebkitTransition = "top 0s ease, height .3s ease, border-right-width .2s ease, opacity .3s ease" }), document.addEventListener("mousemove", function (t) { if (!o) return !1; a = !0, s = t.clientY, r = s - n, e.box.scrollTop = e.currentScrollTop + r / e.precent, document.addEventListener("mouseup", l) }), this.setBoxWidth(), this.setScrollSize(), this.animateScroll() } }, { key: "setBoxWidth", value: function () { } }, { key: "setScrollSize", value: function () { if (this.isIos) return !1; if (!this.scrollIsInit) return !1; getComputedStyle(this.box); var e = this.minTop = 0, t = this.offsetHeight = this.box.offsetHeight, i = this.fullHeight = this.box.scrollHeight, n = 0; if (!this.isProjectPreview) { var r = document.body.offsetHeight; n = this.n = r - t } t = this.offsetHeight = t, i = this.fullHeight = i; this.maxScrollHeight = i - t; if (this.hasScroll = t + 1 < i, this.hasScroll) if (this.scroll.classList.remove("display-none"), s.default.ww < 992) this.scrollLine.style.height = 0, this.box.style.width = ""; else { var o = this.box.clientHeight - e, a = this.box.scrollHeight - e; this.precent = o / a, this.lineHeight = o * this.precent + n, this.scrollLine.style.height = this.lineHeight + "px", this.scrollLine.style.top = this.minTop + "px", this.box.style.width = s.default.scrollWidth + this.parent.clientWidth + "px" } else this.scrollLine.style.height = 0, this.box.style.width = "", this.scroll.classList.add("display-none") } }, { key: "animateScroll", value: function () { if (s.default.ww < 992) return !1; var e = this.box.scrollTop * this.precent + this.minTop, t = this.box.clientHeight; e < 0 ? e = this.minTop : e > t + this.n - this.lineHeight && (e = t + this.n - this.lineHeight), this.currentTop = e, this.scrollLine.style.top = e + "px" } }, { key: "onScroll", value: function () { var e = this; if (!this.scrollIsInit) return !1; var t = (0, r.default)(function (t) { if (e.isIos) return !1; t.stopPropagation(), e.animateScroll() }, 100); this.box.addEventListener("scroll", t) } }, { key: "remove", value: function () { this.scroll && this.scroll.parentNode && this.scroll.parentNode.removeChild(this.scroll) } }, { key: "resize", value: function () { if (!this.scrollIsInit) return !1; this.setBoxWidth(), this.setScrollSize() } }]), e }(); t.default = a }, function (e, t) { var i = "Expected a function", n = NaN, s = "[object Function]", r = "[object GeneratorFunction]", o = "[object Symbol]", a = /^\s+|\s+$/g, l = /^[-+]0x[0-9a-f]+$/i, c = /^0b[01]+$/i, u = /^0o[0-7]+$/i, d = parseInt, h = Object.prototype.toString, f = Math.max, p = Math.min; function m() { return Date.now() } function v(e, t, n) { var s, r, o, a, l, c, u = 0, d = !1, h = !1, v = !0; if ("function" != typeof e) throw new TypeError(i); function w(t) { var i = s, n = r; return s = r = void 0, u = t, a = e.apply(n, i) } function b(e) { var i = e - c; return void 0 === c || i >= t || i < 0 || h && e - u >= o } function P() { var e = m(); if (b(e)) return L(e); l = setTimeout(P, function (e) { var i = t - (e - c); return h ? p(i, o - (e - u)) : i }(e)) } function L(e) { return l = void 0, v && s ? w(e) : (s = r = void 0, a) } function x() { var e = m(), i = b(e); if (s = arguments, r = this, c = e, i) { if (void 0 === l) return function (e) { return u = e, l = setTimeout(P, t), d ? w(e) : a }(c); if (h) return l = setTimeout(P, t), w(c) } return void 0 === l && (l = setTimeout(P, t)), a } return t = y(t) || 0, g(n) && (d = !!n.leading, o = (h = "maxWait" in n) ? f(y(n.maxWait) || 0, t) : o, v = "trailing" in n ? !!n.trailing : v), x.cancel = function () { void 0 !== l && clearTimeout(l), u = 0, s = c = r = l = void 0 }, x.flush = function () { return void 0 === l ? a : L(m()) }, x } function g(e) { var t = typeof e; return !!e && ("object" == t || "function" == t) } function y(e) { if ("number" == typeof e) return e; if (function (e) { return "symbol" == typeof e || function (e) { return !!e && "object" == typeof e }(e) && h.call(e) == o }(e)) return n; if (g(e)) { var t = function (e) { var t = g(e) ? h.call(e) : ""; return t == s || t == r }(e.valueOf) ? e.valueOf() : e; e = g(t) ? t + "" : t } if ("string" != typeof e) return 0 === e ? e : +e; e = e.replace(a, ""); var i = c.test(e); return i || u.test(e) ? d(e.slice(2), i ? 2 : 8) : l.test(e) ? n : +e } e.exports = function (e, t, n) { var s = !0, r = !0; if ("function" != typeof e) throw new TypeError(i); return g(n) && (s = "leading" in n ? !!n.leading : s, r = "trailing" in n ? !!n.trailing : r), v(e, t, { leading: s, maxWait: t, trailing: r }) } }, function (e, t, i) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n, s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol ? "symbol" : typeof e }, r = function () { function e(e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (t, i, n) { return i && e(t.prototype, i), n && e(t, n), t } }(), o = i(5), a = (n = o) && n.__esModule ? n : { default: n }, l = i(8), c = i(10); var u = function () { function e() { var t = this; !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e); var i = this.preloaderWrap = document.querySelector(".atail-preloader-wrapper"), n = this.preloader = i.querySelector(".atail-preloader"); this.span = i.querySelector("span"), this.cloneSpan = n.querySelector("span"), this.cloneSpan.style.width = window.innerWidth + "px"; n.addEventListener(l.transitionEvent, function e() { if (n.classList.contains("atail-preloader-loaded")) return t.preloaderWrap.classList.add("display-none"), !1; if (n.classList.contains("full-preloader")) { if (!a.default.windowIsLoad) return setTimeout(e, 100), !1; a.default.atailMain.classList.add("atail-opacity-1"), n.classList.add("atail-preloader-loaded"), t.span.classList.add("display-none") } }), setTimeout(function () { t.init() }, 0) } return r(e, [{ key: "init", value: function () { var e, t, i = this, n = document.querySelectorAll("img"), r = n.length, o = 0; if (r) { var l = (e = 100 / r, t = 0, [].forEach.call(n, function (n) { var s = new Image, l = n.src; s.onload = function () { ++o === r ? (i.preloader.classList.add("full-preloader"), i.preloader.style.width = "", c.animationSupport || (i.preloader.classList.add("atail-preloader-loaded"), a.default.atailMain.classList.add("atail-opacity-1"))) : (t += e, i.preloader.style.width = t + e + "%") }, s.onerror = function () { ++o === r ? (i.preloader.classList.add("full-preloader"), i.preloader.style.width = "", c.animationSupport || (i.preloader.classList.add("atail-preloader-loaded"), a.default.atailMain.classList.add("atail-opacity-1"))) : (t += e, i.preloader.style.width = t + e + "%") }, s.src = l }), { v: !0 }); if ("object" === (void 0 === l ? "undefined" : s(l))) return l.v } this.preloader.classList.add("full-preloader"), this.preloader.style.width = "", c.animationSupport || (this.preloader.classList.add("atail-preloader-loaded"), a.default.atailMain.classList.add("atail-opacity-1")) } }, { key: "showAtail", value: function () { var e = this; setTimeout(function () { e.preloader.classList.contains("atail-preloader-loaded") || (e.preloader.classList.add("atail-preloader-loaded"), a.default.atailMain.classList.add("atail-opacity-1"), e.span.classList.add("display-none"), setTimeout(function () { e.vis() && e.preloaderWrap.classList.add("display-none") }, 600)) }, 1800) } }, { key: "resize", value: function () { this.cloneSpan.style.width = window.innerWidth + "px" } }, { key: "vis", value: function () { var e, t, i = { hidden: "visibilitychange", webkitHidden: "webkitvisibilitychange", mozHidden: "mozvisibilitychange", msHidden: "msvisibilitychange" }; for (e in i) if (e in document) { t = i[e]; break } return function (i) { return i && document.addEventListener(t, i), !document[e] } } }]), e }(); t.default = u }, function (e, t, i) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = function () { function e(e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (t, i, n) { return i && e(t.prototype, i), n && e(t, n), t } }(), s = u(i(5)), r = i(8), o = u(i(19)), a = i(10), l = i(12), c = u(i(20)); function u(e) { return e && e.__esModule ? e : { default: e } } var d = function () { function e() { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), this.isInit = !1, this.timeOver = null } return n(e, [{ key: "init", value: function () { var e = this, t = this.allProjects = document.querySelector(".all-atail-projects"); if (!t) return !1; this.atailProjectsParent = document.querySelector(".all-atail-projects-wrapper"); var i = this.allProjectsArray = t.querySelectorAll(".all-atail-projects-single"); if (!i) return !1; this.allProjectsArrayIE = [], [].forEach.call(i, function (t) { var i = t.cloneNode(!0); e.allProjectsArrayIE.push(i) }), this.currentCategoryArray = [].slice.call(this.allProjectsArray, 0), this.projectsCategoryWrapper = this.currentCategoryArray[0].parentNode; this.allProjectsLength = i.length; this.projectCategory = document.querySelector(".all-atail-projects-category"); var n = 0, a = .3333333; s.default.ww > 991 && (a = .1666667, n = s.default.ww > 1400 ? 100 : 70), this.projectCategory.style.cssText = "width: " + s.default.mainClientWidth * a + "px; right: " + ((s.default.ww - s.default.atailMainClientWidth) / 2 + n) + "px", this.categoryWrapper = this.projectCategory.querySelector(".all-atail-projects-category-wrapper"), this.projectsCategoryWrapperScroll = new o.default(this.categoryWrapper), this.projectsCategoryWrapperScroll.init(); var l = this.projectInfo = []; l.top = [], l.bot = [], l.height = [], [].forEach.call(i, function (e) { l.top.push(e.offsetTop), l.bot.push(e.offsetTop + e.clientHeight), l.height.push(e.clientHeight) }), this.scrollHeight = this.allProjects.scrollHeight; var u = this.style = document.createElement("STYLE"); document.body.appendChild(u); var d = this.animateBox = document.createElement("DIV"); d.className = "all-projects-animate-box", d.innerHTML = "<div></div><div></div><div></div><div></div><div></div>", s.default.sides.querySelector("div").appendChild(d), d.addEventListener(r.transitionEvent, this.categoryAnimating.bind(this)), this.isInit = !0, this.currentTarget = this.projectCategory.querySelector('.active[data-action="show-category"]'); var h = this.allProjects.scrollTop; this.onScroll(h), this.scroll = new o.default(t), this.scroll.init(); var f = (0, c.default)(function (i) { i.stopPropagation(); var n = t.scrollTop; e.onScroll(n) }, 150); t.addEventListener("scroll", f) } }, { key: "load", value: function () { this.isInit && this.scroll.resize() } }, { key: "onScroll", value: function (e) { if (!this.isInit) return !1; for (var t = e + .85 * s.default.wh, i = this.currentCategoryArray.length, n = this.projectInfo, r = this.currentCategoryArray, o = 0; o < i; o++)a.animationSupport ? n.top[o] < t ? n.bot[o] < e ? (r[o].classList.add("is-visible-bot"), r[o].classList.add("is-visible")) : (r[o].classList.remove("is-visible-bot"), r[o].classList.add("is-visible")) : r[o].classList.remove("is-visible") : r[o].classList.add("is-visible") } }, { key: "showCategory", value: function (e) { if (e.classList.contains("active")) return !1; this.currentTarget || (this.currentTarget = e), this.currentTarget.classList.remove("active"), this.currentTarget = e, e.classList.add("active"), this.categoryId = e.getAttribute("data-category"), a.animationSupport ? s.default.sides.classList.add("all-projects-box-animating") : (s.default.sides.classList.add("all-projects-box-animating"), this.categoryAnimating()) } }, { key: "categoryAnimating", value: function () { var e = this, t = s.default.sides, i = this.categoryId; t.classList.contains("all-projects-box-animating") && (t.classList.contains("box-animating") ? (t.classList.remove("all-projects-box-animating"), t.classList.remove("box-animating"), this.categoryId = null) : function () { e.currentCategoryArray = [], e.fragment = document.createDocumentFragment(), e.allProjectsArray = [], [].forEach.call(e.allProjectsArrayIE, function (t) { var i = t.cloneNode(!0); e.allProjectsArray.push(i) }), [].forEach.call(e.allProjectsArray, function (t) { var n = t.cloneNode(!0); n.classList.remove("is-visible"), n.classList.remove("is-visible-bot"); var s = n.getAttribute("data-categories"); -1 !== i.indexOf("cat-all") ? (e.currentCategoryArray.push(n), e.fragment.appendChild(n)) : -1 !== s.indexOf(i) && (e.currentCategoryArray.push(n), e.fragment.appendChild(n)) }), e.projectsCategoryWrapper.innerHTML = "", e.projectsCategoryWrapper.appendChild(e.fragment); var n = e.projectInfo = []; n.top = [], n.bot = [], n.height = [], [].forEach.call(e.currentCategoryArray, function (e) { var t = e.offsetTop, i = e.clientHeight; n.top.push(t), n.bot.push(t + i), n.height.push(i) }), setTimeout(function () { e.scrollHeight = e.allProjects.scrollHeight, e.allProjects.scrollTop = 0, document.body.scrollTop = 0, e.onScroll(0), e.scroll.resize(), a.animationSupport ? t.classList.add("box-animating") : (t.classList.remove("all-projects-box-animating"), t.classList.remove("box-animating"), e.categoryId = null) }, 100) }()) } }, { key: "showProjects", value: function (e) { var t = this; if (this.isOpened) return !1; this.isOpened = !0, (0, l.httpGet)("recensioni/tutte/", e).then(function (e) { s.default.main.classList.add("all-projects-loading"); var i = t.closeProjectsBtn = document.createElement("DIV"); i.className = "close-projects-btn", i.setAttribute("data-action", "all-projects-close"), i.innerHTML = "<span></span><span></span>", s.default.header.appendChild(t.closeProjectsBtn), s.default.lang && s.default.lang.classList.add("hide-lang"), setTimeout(function () { s.default.main.classList.add("all-projects-loaded"), document.body.classList.remove("window-height"), s.default.main.insertAdjacentHTML("beforeend", e), t.closeProjectsBtn.classList.add("close-projects-btn-loaded"); var i = s.default.main.querySelector(".all-atail-projects-wrapper"); if (!i) return !1; i.style.opacity = 0; var n, r, o, a = i.querySelectorAll("img"); a.length <= 0 ? (i.style.opacity = "", t.init()) : (n = a.length, r = 0, o = function () { ++r === n && (i.style.opacity = "", t.init()) }, [].forEach.call(a, function (e) { var t = new Image; t.onload = function () { o() }, t.onerror = function () { o() }, t.src = e.src })), setTimeout(function () { var e = 0, i = .3333333; s.default.ww > 991 && (i = .1666667, e = s.default.ww > 1400 ? 100 : 70), t.projectCategory.style.width = s.default.main.clientWidth * i + "px", t.projectCategory.style.right = (s.default.ww - s.default.atailMain.clientWidth) / 2 + e + "px" }, 100) }, 100) }).catch(function () { t.isAnimating = !1 }) } }, { key: "closeProjects", value: function () { var e = this; this.closeProjectsBtn.classList.remove("close-projects-btn-loaded"), s.default.main.classList.add("all-projects-closing"), setTimeout(function () { document.body.classList.add("window-height"), s.default.main.removeChild(e.atailProjectsParent), s.default.header.removeChild(e.closeProjectsBtn), s.default.main.classList.remove("all-projects-loaded"), setTimeout(function () { s.default.main.classList.remove("all-projects-loading") }, 0), s.default.main.classList.remove("all-projects-closing"), s.default.main.classList.remove("atail-disable-decoration"), s.default.lang && s.default.lang.classList.remove("hide-lang"), e.scroll.remove(), e.isOpened = !1 }, 600) } }, { key: "resize", value: function () { var e = this; clearTimeout(this.timeOver), this.timeOver = setTimeout(function () { if (!e.isInit) return !1; var t = e.projectInfo = []; t.top = [], t.bot = [], t.height = [], [].forEach.call(e.currentCategoryArray, function (e) { t.top.push(e.offsetTop), t.bot.push(e.offsetTop + e.clientHeight), t.height.push(e.clientHeight) }), setTimeout(function () { s.default.ww >= 992 ? (e.scrollHeight = e.allProjects.scrollHeight, e.onScroll(e.allProjects.scrollTop)) : (e.scrollHeight = document.body.scrollHeight, e.onScroll(document.body.scrollTop)), e.scroll.resize(); var t = 0, i = .3333333; s.default.ww > 991 && (i = .1666667, t = s.default.ww > 1400 ? 100 : 70), e.projectCategory.style.width = s.default.main.clientWidth * i + "px", e.projectCategory.style.right = (s.default.ww - s.default.atailMain.clientWidth) / 2 + t + "px", e.projectsCategoryWrapperScroll.resize() }, 0) }, 200) } }]), e }(); t.default = d }, function (e, t, i) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = function () { function e(e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (t, i, n) { return i && e(t.prototype, i), n && e(t, n), t } }(), s = i(12), r = i(24), o = i(25); var a = function () { function e(t, i, n) { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), t && i && (this.fileUrl = i || null, this.forms = document.querySelectorAll(t), this.action = n || "contact", this.init()) } return n(e, [{ key: "init", value: function () { var e = this; if (this.forms.length <= 0) return !1; var t = this.forms;[].forEach.call(t, function (t) { t.onsubmit = function (i) { i.preventDefault(); var n = t.querySelector('[type="submit"]'), a = t.querySelector('[name="comment"]'), l = t.querySelector('[name="email"]'), c = t.querySelector('[name="name"]'), u = !0; if (a && (a.value ? a.classList.remove("error") : (a.classList.add("error"), u = !1)), l && (l.value && e.validateEmail(l.value) ? l.classList.remove("error") : (l.classList.add("error"), u = !1)), c && (c.value ? c.classList.remove("error") : (c.classList.add("error"), u = !1)), !u) return !1; (0, s.httpPost)(e.fileUrl, (0, r.form_serialize)(t), e.action).then(function (e) { "success" === (e = JSON.parse(e)).status ? (t.classList.add("form-success"), n && n.setAttribute("disabled", "disabled"), (0, o.clean_form)(t), setTimeout(function () { t.classList.remove("form-success") }, 300)) : (e.commentMissed && a && a.classList.add("error"), e.emailMissed && l && l.classList.add("error"), e.nameMissed && c && c.classList.add("error")) }) } }) } }, { key: "validateEmail", value: function (e) { return /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e) } }]), e }(); t.default = a }, function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.form_serialize = function (e) { if (!e || "FORM" !== e.nodeName) return; var t, i, n = {}; for (t = e.elements.length - 1; t >= 0; t -= 1)if ("" !== e.elements[t].name) switch (e.elements[t].nodeName) { case "INPUT": switch (e.elements[t].type) { case "text": case "hidden": case "password": case "button": case "reset": case "submit": n[e.elements[t].name] = encodeURIComponent(e.elements[t].value); break; case "email": n[e.elements[t].name] = e.elements[t].value; break; case "checkbox": case "radio": e.elements[t].checked && (n[e.elements[t].name] = encodeURIComponent(e.elements[t].value)) }break; case "TEXTAREA": n[e.elements[t].name] = encodeURIComponent(e.elements[t].value); break; case "SELECT": switch (e.elements[t].type) { case "select-one": n[e.elements[t].name] = encodeURIComponent(e.elements[t].value); break; case "select-multiple": for (i = e.elements[t].options.length - 1; i >= 0; i -= 1)e.elements[t].options[i].selected && (n[e.elements[t].name] = encodeURIComponent(e.elements[t].options[i].value)) }break; case "BUTTON": switch (e.elements[t].type) { case "reset": case "submit": case "button": n[e.elements[t].name] = encodeURIComponent(e.elements[t].value) } }return n } }, function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.clean_form = function (e) { if (!e || "FORM" !== e.nodeName) return; var t; for (t = e.elements.length - 1; t >= 0; t -= 1)if ("" !== e.elements[t].name) switch (e.elements[t].nodeName) { case "INPUT": switch (e.elements[t].type) { case "text": case "hidden": case "password": case "button": case "reset": case "submit": case "email": e.elements[t].value = "" }break; case "TEXTAREA": e.elements[t].value = "" } } }, function (e, t) { "use strict"; !function () { for (var e = 0, t = ["ms", "moz", "webkit", "o"], i = 0; i < t.length && !window.requestAnimationFrame; ++i)window.requestAnimationFrame = window[t[i] + "RequestAnimationFrame"], window.cancelAnimationFrame = window[t[i] + "CancelAnimationFrame"] || window[t[i] + "CancelRequestAnimationFrame"]; window.requestAnimationFrame || (window.requestAnimationFrame = function (t, i) { var n = (new Date).getTime(), s = Math.max(0, 16 - (n - e)), r = window.setTimeout(function () { t(n + s) }, s); return e = n + s, r }), window.cancelAnimationFrame || (window.cancelAnimationFrame = function (e) { clearTimeout(e) }) }() }, function (e, t) {
    "use strict";
    // @license http://opensource.org/licenses/MIT
    // @license http://opensource.org/licenses/MIT
    !function () { if ("performance" in window == 0 && (window.performance = {}), Date.now = Date.now || function () { return (new Date).getTime() }, "now" in window.performance == 0) { var e = Date.now(); performance.timing && performance.timing.navigationStart && (e = performance.timing.navigationStart), window.performance.now = function () { return Date.now() - e } } }()
}, function (e, t, i) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.blogPostLike = function (e) { wp.ajax.send("atail_add_like", { data: { token: (0, n.getCookie)("atail_xslt"), post_id: e.getAttribute("data-post") }, success: function (t) { var i = '<i class="fa fa-heart-o" aria-hidden="true"></i>' + t.likes; e.innerHTML = i, (0, n.setCookie)("atail_xslt", t.token) }, error: function (e) { console.error(e) } }) }; var n = i(29) }, function (e, t) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.setCookie = function (e, t, i) { var n = (i = i || {}).expires; if ("number" == typeof n && n) { var s = new Date; s.setTime(s.getTime() + 1e3 * n), n = i.expires = s } n && n.toUTCString && (i.expires = n.toUTCString()); t = encodeURIComponent(t); var r = e + "=" + t; for (var o in i) { r += "; " + o; var a = i[o]; !0 !== a && (r += "=" + a) } document.cookie = r }, t.getCookie = function (e) { var t = document.cookie.match(new RegExp("(?:^|; )" + e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, "\\$1") + "=([^;]*)")); return t ? decodeURIComponent(t[1]) : void 0 } }, function (e, t, i) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.blogPostDislike = function (e) { wp.ajax.send("atail_add_dislike", { data: { token: (0, n.getCookie)("atail_xslt"), post_id: e.getAttribute("data-post") }, success: function (t) { var i = '<span class="comments-icon">&#207;</span>' + t.dislikes; e.innerHTML = i, (0, n.setCookie)("atail_xslt", t.token) }, error: function (e) { console.error(e) } }) }; var n = i(29) }, function (e, t, i) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = function () { function e(e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (t, i, n) { return i && e(t.prototype, i), n && e(t, n), t } }(), s = i(10), r = i(8); var o = function () { function e() { var t = arguments.length <= 0 || void 0 === arguments[0] ? ".atail-slider" : arguments[0], i = arguments.length <= 1 || void 0 === arguments[1] || arguments[1]; !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), this.isInited = !1, this.isMouseOver = !1, this.autoplay = i, this.init(t) } return n(e, [{ key: "init", value: function (e) { var t = this, i = this.slider = document.querySelector(e); if (!i) return !1; i.classList.add("atail-slider"); var n = this.sliderItems = i.children; return this.sliderItems = [], !(n.length <= 0) && (n[0].classList.add("active"), [].forEach.call(n, function (e) { t.sliderItems.push(e), e.classList.add("atail-slider-item") }), this.currentItem = 0, this.prevItem = 0, this.createAnimateBox(), this.mouseEvent(), this.onTouch(), this.isInited = !0, (!this.autoplay || !this.isMouseOver) && void 0) } }, { key: "createAnimateBox", value: function () { var e = this; if (this.sliderItems.length <= 1) return !1; var t = this.sliderAnimateBox = document.createElement("DIV"), i = this.animateBoxRight = document.createElement("DIV"), n = this.animateBoxLeft = document.createElement("DIV"); t.className = "slider-animate-box", i.className = "animate-box-right", n.className = "animate-box-left", t.appendChild(n), t.appendChild(i), this.setTimeout = setTimeout(function () { e.goNext() }, 2500); var s = function (t) { clearTimeout(e.setTimeout); t.currentTarget; if (e.sliderAnimateBox.classList.contains("from-right")) if (e.sliderAnimateBox.classList.contains("from-right-end")) { if (e.sliderAnimateBox.classList.remove("from-right-end"), e.sliderAnimateBox.classList.remove("from-right"), e.isAnimating = !1, e.autoplay) { if (e.isMouseOver) return !1; e.setTimeout = setTimeout(function () { e.goNext() }, 3500) } } else e.sliderItems[e.prevItem].classList.remove("active"), e.sliderItems[e.currentItem].classList.add("active"), e.sliderAnimateBox.classList.add("from-right-end"); else if (e.sliderAnimateBox.classList.contains("from-left")) if (e.sliderAnimateBox.classList.contains("from-left-end")) { if (e.sliderAnimateBox.classList.remove("from-left-end"), e.sliderAnimateBox.classList.remove("from-left"), e.isAnimating = !1, e.autoplay) { if (e.isMouseOver) return !1; e.setTimeout = setTimeout(function () { e.goNext() }, 3500) } } else e.sliderItems[e.prevItem].classList.remove("active"), e.sliderItems[e.currentItem].classList.add("active"), e.sliderAnimateBox.classList.add("from-left-end") }; i.addEventListener(r.transitionEvent, s), n.addEventListener(r.transitionEvent, s); var o = this.arrowTemplate = '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width = "57.143px" height = "34.454px" viewBox = "0 0 57.143 34.454" enable - background = "new 0 0 57.143 34.454" xml: space = "preserve"><g><g><polygon points ="51.908,17.599 46.891,13.1 46.891,17.094 6.904,17.094 6.904,18.094 46.891,18.094 46.891,22.099"/></g></g></svg>'; this.fullPostNextSlide = document.createElement("SPAN"), this.fullPostNextSlide.className = "slider-next-slide", this.fullPostNextSlide.setAttribute("data-action", "slider-next-slide"), this.fullPostNextSlide.innerHTML = o, this.fullPostPrevSlide = document.createElement("SPAN"), this.fullPostPrevSlide.className = "slider-prev-slide", this.fullPostPrevSlide.setAttribute("data-action", "slider-prev-slide"), this.fullPostPrevSlide.innerHTML = o, this.slider.appendChild(t), this.slider.appendChild(this.fullPostNextSlide), this.slider.appendChild(this.fullPostPrevSlide) } }, { key: "goNext", value: function () { var e = !(arguments.length <= 0 || void 0 === arguments[0]) && arguments[0]; return !(this.sliderItems.length <= 1) && (!(!e && this.isMouseOver) && (!this.isAnimating && (this.prevItem = this.currentItem, this.currentItem++ , this.currentItem >= this.sliderItems.length && (this.currentItem = 0), void (s.animationSupport ? (this.isAnimating = !0, this.sliderAnimateBox.classList.add("from-right")) : this.changeSlide())))) } }, { key: "goPrev", value: function () { var e = !(arguments.length <= 0 || void 0 === arguments[0]) && arguments[0]; return !(this.sliderItems.length <= 1) && (!(!e && this.isMouseOver) && (!this.isAnimating && (this.prevItem = this.currentItem, this.currentItem-- , this.currentItem < 0 && (this.currentItem = this.sliderItems.length - 1), void (s.animationSupport ? (this.isAnimating = !0, this.sliderAnimateBox.classList.add("from-left")) : this.changeSlide())))) } }, { key: "changeSlide", value: function () { this.sliderItems[this.prevItem].classList.remove("active"), this.sliderItems[this.currentItem].classList.add("active") } }, { key: "mouseEvent", value: function () { var e = this; if (this.sliderItems.length <= 1) return !1; var t = this.slider; t.onmouseenter = function (t) { e.isMouseOver = !0, clearTimeout(e.setTimeout) }, t.onmouseleave = function (t) { e.isMouseOver = !1, e.autoplay && setTimeout(function () { e.goNext() }, 2500) }, t.onmousedown = function (e) { } } }, { key: "onTouch", value: function () { var e = this; if (this.sliderItems.length <= 1) return !1; var t = null, i = null, n = 0; this.slider.addEventListener("touchstart", function (e) { var i = e.touches[0]; t = i.clientX }), this.slider.addEventListener("touchmove", function (e) { var s = e.touches[0]; i = s.clientX, n = t - i }), this.slider.addEventListener("touchend", function (t) { n < -20 && e.goPrev(!0), n > 20 && e.goNext(!0), n = 0 }) } }]), e }(); t.default = o }]);